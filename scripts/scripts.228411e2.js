"use strict";angular.module("statystykiAllegroApp",["ngAnimate","ngResource","ngRoute","ngSanitize","chart.js"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/averagePrice",{templateUrl:"views/province.html",controller:"ProvinceCtrl",controllerAs:"province"}).when("/count",{templateUrl:"views/province.html",controller:"ProvinceCtrl",controllerAs:"province"}).when("/mileageByProductionYear",{templateUrl:"views/mileagebyproductionyear.html",controller:"MileagebyproductionyearCtrl",controllerAs:"mileageByProductionYear"}).otherwise({redirectTo:"/"})}]),angular.module("statystykiAllegroApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("statystykiAllegroApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("statystykiAllegroApp").controller("ProvinceCtrl",["$scope","category","statistics",function(a,b,c){var d=["dolnoslaskie","kujawsko-pomorskie","lubelskie","lubuskie","lodzkie","malopolskie","mazowieckie","opolskie","podkarpackie","podlaskie","pomorskie","slaskie","swietokrzyskie","warminsko-mazurskie","wielkopolskie","zachodniopomorskie"];a.category=b,a.statistics=c,a.createDummyData=function(){var b={};angular.forEach(d,function(a){b[a]={value:Math.random()}}),a.dummyData=b},a.createDummyData(),a.changeHoverProvince=function(b){a.hoverProvince=b}}]),angular.module("statystykiAllegroApp").directive("mapOfPoland",["$compile",function(a){return{restrict:"A",templateUrl:"images/mapofpoland.d95443eb.svg",link:function(b,c){var d=c[0].querySelectorAll(".province");angular.forEach(d,function(c){var d=angular.element(c);d.attr("province",""),d.attr("dummy-data","dummyData"),d.attr("hover-province","hoverProvince"),a(d)(b)})}}}]),angular.module("statystykiAllegroApp").directive("province",["$compile",function(a){return{restrict:"A",scope:{dummyData:"=",hoverProvince:"="},link:function(b,c){b.elementId=c.attr("id"),b.provinceClick=function(){window.alert(b.dummyData[b.elementId].value)},b.provinceMouseOver=function(){b.hoverProvince=b.elementId,c[0].parentNode.appendChild(c[0])},c.attr("ng-click","provinceClick()"),c.attr("ng-attr-fill","{{dummyData[elementId].value | mapColour}}"),c.attr("ng-mouseover","provinceMouseOver()"),c.attr("ng-class","{active:hoverProvince==elementId}"),c.removeAttr("province"),a(c)(b)}}}]),angular.module("statystykiAllegroApp").filter("mapColour",function(){return function(a){var b={r:51,g:122,b:183},c={r:271,g:83,b:79},d=function(a,b,c){return Math.floor(a+(b-a)*c)},e=d(b.r,c.r,a),f=d(b.g,c.g,a),g=d(b.b,c.b,a);return"rgba("+e+","+f+","+g+",1)"}}),angular.module("statystykiAllegroApp").service("category",["$resource","$location",function(a,b){var c=a("api/:categoryId.json",{},{query:{method:"GET",params:{categoryId:"categories"},isArray:!0}});return c.current={make:b.search().make,model:b.search().model,model2:b.search().model2},c}]),angular.module("statystykiAllegroApp").controller("CategoryCtrl",["$scope","category",function(a,b){a.categories=b.query(),a.topLevel=!0;var c={};a.enter=function(d){c.name=b.current,c={history:c,categories:a.categories,name:a.categories[d].name},b.current=a.categories[d].name,a.categories=a.categories[d].subcategories,a.topLevel=void 0===c.history},a.back=function(){a.categories=c.categories,c=c.history,b.current=c.name,a.topLevel=void 0===c.history}}]),angular.module("statystykiAllegroApp").service("statistics",function(){var a={};return a.types=[{name:"Średnia cena pojazdu",url:"#/averagePrice"},{name:"Liczba pojazdów",url:"#/count"},{name:"Przebieg a rok produkcji",url:"#/mileageByProductionYear"}],a.current="",a}),angular.module("statystykiAllegroApp").controller("StatisticsCtrl",["$scope","statistics",function(a,b){a.statistics=b,a.choose=function(a){b.current=a}}]),angular.module("statystykiAllegroApp").controller("MileagebyproductionyearCtrl",["$scope","$location","statistics","category","mileageByProductionYear",function(a,b,c,d,e){a.statistics=c,a.category=d;var f=[];a.labels=[],a.series=["Przebieg"],a.data=[f],a.mileageByProductionYear=e.query(b.search(),function(b){angular.forEach(b,function(b){a.labels.push(b.yearOfProduction),f.push(b.sumMileage/b.resultCount)})})}]),angular.module("statystykiAllegroApp").service("mileageByProductionYear",["$resource",function(a){return a("api/mileageByProductionYear.json",{},{query:{method:"GET",params:{},isArray:!0}})}]),angular.module("statystykiAllegroApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="jumbotron"> <h1>Statystyki Allegro</h1> <p class="lead"> Asystent zakupów </p> </div>'),a.put("views/mileagebyproductionyear.html",'<div class="row"> <div class="col-md-10 col-md-offset-1"> <div class="panel panel-default"> <div class="panel-heading text-center"> <h1>{{statistics.current.name}} - {{category.current}}</h1> </div> <div class="panel panel-body"> <canvas id="bar" class="chart chart-bar" chart-data="data" chart-labels="labels"> chart-series="series" </canvas> </div> </div> </div> </div>'),a.put("views/province.html",'<div class="row"> <div class="col-md-8 col-md-offset-2"> <div class="panel panel-default"> <div class="panel-heading text-center"> <h1>{{statistics.current.name}} - {{category.current}}</h1> </div> <div class="panel panel-body"> <div map-of-poland></div> <div class="scale"> <div ng-repeat="n in [0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1]" ng-style="{backgroundColor:\'{{n | mapColour}}\'}"> {{n}} </div> </div> </div> </div> </div> </div> <div class="row"> <div class="col-md-10 col-md-offset-1"> <p> <button ng-click="createDummyData()" class="btn btn-block btn-default">Create Dummy Data</button> </p> <div class="panel panel-default"> <div class="panel panel-body"> <div class="provincelist"> <div ng-repeat="(key, province) in dummyData" ng-class="{active:hoverProvince==key}" ng-mouseover="changeHoverProvince(key)"> <div>{{key}}</div> <div>{{province.value | number}}</div> </div> </div> </div> </div> </div> </div>')}]);